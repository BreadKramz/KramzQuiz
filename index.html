<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Kramz Quiz</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="dark">

<audio id="background-music" loop>
  <source src="Jeopardy Theme.mp3" type="audio/mpeg">
</audio>

<div class="container fade-panel">

  <div class="login-screen show" id="login-screen">
    <h2>ğŸ” Welcome to Kramz Quiz</h2>
    <input type="text" id="login-username" placeholder="Enter username" required>
    <input type="password" id="login-password" placeholder="Enter password" required>
    <p id="login-message" class="status-message error"></p>
    <button class="start-btn" onclick="userLogin()">Login</button>
    <button class="settings-btn" onclick="userRegister()">Register</button>
    <button class="admin-btn" onclick="showAdminLogin()">Admin Login</button>
  </div>

  <div class="admin-login" id="admin-login">
    <h2>ğŸ‘¨â€ğŸ’¼ Admin Login</h2>
    <input type="text" id="admin-username" placeholder="Admin username" required>
    <input type="password" id="admin-password" placeholder="Admin password" required>
    <p id="admin-message" class="status-message error"></p>
    <button class="admin-btn" onclick="adminLogin()">Login</button>
    <button class="start-btn" onclick="backToLogin()">Back</button>
  </div>

  <div class="start-screen" id="start-screen">
    <h2>ğŸ‰ Welcome to the Kramz Quiz!</h2>
    <p class="status-message warning">Almost finish, Few Bug Fixes Nalang</p>
    <button class="start-btn" onclick="startQuiz()">â–¶ Start Quiz</button>
    <button class="settings-btn" onclick="toggleAddQuestion()">â• Add Question</button>
    <button class="settings-btn" onclick="toggleSettings()">âš™ï¸ Settings</button>
    <button class="settings-btn" onclick="openFeedbackPanel()">ğŸ’¬ Feedback</button>
    <button class="view-questions-btn" onclick="toggleViewPanel()">ğŸ“‹ View Questionnaires</button>
    <button class="settings-btn" onclick="logoutUser()">ğŸšª Logout</button>
  
  <div class="section">
    <h3 class="section-title">ğŸ–¼ Generate questions from an image</h3>
    <input type="file" id="quiz-image" accept="image/*">
    <button class="start-btn" onclick="generateQuestionsFromImage()">Generate from Image</button>
    <p id="gen-status" class="status-message"></p>
  </div>

    <p id="quiz-error-message" class="status-message error"></p>
  </div>

  <div class="quiz-container" id="feedback-panel">
    <div class="screen-header">
      <h2>ğŸ’¬ Feedback / Suggestions</h2>
      <button class="back-btn" onclick="backToStart()">â¬…</button>
    </div>
    <textarea id="feedback-text" placeholder="Write your suggestions here..." style="width:100%; height:100px; padding:8px; border-radius:6px; border:1px solid #ccc;"></textarea>
    <button class="start-btn" onclick="submitFeedback()">Submit Feedback</button>
    <button class="start-btn" onclick="backToStart()">Back</button>
    <p id="feedback-message" class="status-message"></p>
  </div>

  <div class="add-question-screen" id="add-question-screen">
    <div class="screen-header">
      <h2>Add Your Own Question</h2>
      <button class="back-btn" onclick="backToStart()">â¬…</button>
    </div>
    <input type="text" id="new-question" placeholder="Enter your question" required>
    <div id="choices-container">
      <input type="text" class="choice-input" placeholder="Choice 1" required>
      <input type="text" class="choice-input" placeholder="Choice 2" required>
      <input type="text" class="choice-input" placeholder="Choice 3" required>
      <input type="text" class="choice-input" placeholder="Choice 4" required>
    </div>
    <label for="correct-answer">Correct Answer (1-4):</label>
    <input type="number" id="correct-answer" min="1" max="4" required>
    <button class="start-btn" onclick="addCustomQuestion()">Add Question</button>
    <button class="start-btn" onclick="backToStart()">Back</button>
    <p id="add-feedback" class="status-message"></p>
  </div>

  <div class="settings-screen" id="settings-screen">
    <div class="screen-header">
      <h2>âš™ï¸ Settings</h2>
      <button class="back-btn" onclick="backToStart()">â¬…</button>
    </div>

  <label class="toggle-option">
    Enable Background Music
    <input type="checkbox" id="music-toggle">
    <span class="toggle-slider"></span>
  </label>

  <label class="toggle-option">
    Enable Dark Mode
    <input type="checkbox" id="theme-toggle" checked>
    <span class="toggle-slider"></span>
  </label>

    <br><br>
    <button onclick="backToStart()">â¬… Back</button>
  </div>

  <div class="quiz-container" id="quiz">
    <div id="question-counter">Question 1 of 4</div>
    <div id="timer">Time: 10</div>
    <h2 id="question">Question here...</h2>
    <div class="options" id="options-container"></div>
    <div id="feedback"></div>
    <button id="next-btn" onclick="nextQuestion()">Next</button>
  </div>

  <div class="quiz-container" id="score-screen">
    <h2 style="text-align:center;" id="score-text">Your Score:</h2>
    <p style="text-align:center; margin: 15px 0; font-weight: bold;" id="score-message"></p>
    <button class="start-btn" onclick="returnToStart()">Try Again</button>
  </div>

<div id="admin-panel" class="admin-screen">
    <div class="screen-header">
      <h2>Admin Panel</h2>
      <button class="back-btn" onclick="backToLogin()">ğŸšª</button>
    </div>
  <button class="view-questions-btn" onclick="viewFeedbacks()">View Feedback</button>
  <button class="view-questions-btn" onclick="toggleGlobalQuestionPanel()">â• Add Global Questions</button>
  <button class="view-questions-btn" onclick="viewGlobalQuestions()">ğŸ“‹ View Global Questions</button>
  <button class="start-btn" onclick="backToLogin()">Logout</button>
</div>

  <div id="global-question-panel" class="add-question-screen">
    <div class="screen-header">
      <h2>Add Global Question</h2>
      <button class="back-btn" onclick="backToAdminPanel()">â¬…</button>
    </div>
    <input type="text" id="global-question-text" placeholder="Enter your question" required>
    <input type="text" class="global-choice-input" placeholder="Choice 1" required>
    <input type="text" class="global-choice-input" placeholder="Choice 2" required>
    <input type="text" class="global-choice-input" placeholder="Choice 3" required>
    <input type="text" class="global-choice-input" placeholder="Choice 4" required>
    <input type="number" id="global-correct-answer" placeholder="Correct option (1-4)" required>
    <div id="global-add-feedback" style="margin-top: 10px;"></div>
    <button onclick="addGlobalQuestion()">â• Add Global Question</button>
    <button onclick="backToAdminPanel()">â¬… Back</button>
  </div>

  <div id="global-view-panel" class="quiz-container">
    <div class="screen-header">
      <h2>ğŸŒ Global Questions</h2>
      <button class="back-btn" onclick="backToAdminPanel()">â¬…</button>
    </div>
    <div id="global-view-list" style="max-height: 200px; overflow-y: auto;"></div>
    <button class="start-btn" onclick="backToAdminPanel()">Back</button>
  </div>

  <div class="quiz-container" id="feedback-view-panel">
    <div class="screen-header">
      <h2>ğŸ“‹ All Feedback</h2>
      <button class="back-btn" onclick="backToAdminPanel()">â¬…</button>
    </div>
    <div id="feedback-list" style="max-height:200px; overflow-y:auto;"></div>
    <button class="start-btn" onclick="backToAdminPanel()">Back</button>
  </div>

  <div id="view-panel" class="quiz-container">
    <div class="screen-header">
      <h2>Saved Questions</h2>
      <button class="back-btn" onclick="backToStart()">â¬…</button>
    </div>
    <div id="questions-list-container" style="max-height: 200px; overflow-y: auto;"></div>
    <button class="start-btn" onclick="backToStart()">Back</button>
  </div>

  <div id="confirm-delete-box" class="confirm-delete-box">
    <p>Are you sure you want to delete this question?</p>
    <button onclick="confirmDelete()" class="confirm-btn yes-btn">âœ… Yes</button>
    <button onclick="cancelDelete()" class="confirm-btn no-btn">âŒ Cancel</button>
  </div>

<div id="confirmDeleteOverlay" class="confirm-delete-box" style="display:none;">
  <p>Are you sure you want to delete this global question?</p>
  <button class="confirm-btn" onclick="confirmGlobalDelete()">âœ… Yes</button>
  <button class="confirm-btn" onclick="cancelGlobalDelete()">âŒ Cancel</button>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
